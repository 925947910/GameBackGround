<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yxb.cms.dao.GameRecMapper">
	<resultMap id="BaseResultMap"
		type="com.yxb.cms.domain.vo.gameRec">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Aug 15 
			22:46:30 CST 2016. -->
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="recordCode" property="recordCode" jdbcType="VARCHAR" />
		<result column="gameId" property="gameId" jdbcType="INTEGER" />
		<result column="gameResult" property="gameResult" jdbcType="VARCHAR" />
		<result column="beginTime" property="beginTime" jdbcType="BIGINT" />
		<result column="endTime" property="endTime" jdbcType="BIGINT" />
	</resultMap>


	<!-- 查询用户总记录数 -->
	<select id="selectCountGameRec"
		parameterType="com.yxb.cms.domain.vo.gameRec" resultType="Long">
		select count(*)from gameRec
		<include refid="selectPageParmas" />
	</select>
	<!-- 用户列表信息分页显示 -->
	<select id="selectGameRecListByPage"
		parameterType="com.yxb.cms.domain.vo.gameRec"
		resultMap="BaseResultMap">
		select * from gameRec
		<include refid="selectPageParmas" />
		order by beginTime DESC
		LIMIT #{start},#{limit}
	</select>


	<!-- 查询条件 -->
	<sql id="selectPageParmas">
		<where>
			<if
				test="searchTerm != null and searchTerm != '' and searchContent != null and  searchContent != '' and  searchTerm == 'codeTerm' ">
				AND recordCode= #{searchContent,jdbcType=VARCHAR}
			</if>
			<if
				test="begin != null and begin != '' and end != null and  end != '' ">
				AND beginTime BETWEEN #{begin,jdbcType=BIGINT} and
				#{end,jdbcType=BIGINT}
			</if>
		</where>
	</sql>

   


</mapper>